Marketplace_id: 7596bf36e3924512bb09d184b6125d32
publishable_key: zpk_test_cZsVdwyPUMRbzw1IcBmdyQeZ
seller_id: 5b066ce023bf47d49e06918dd63863a1

token account_id = 9e3bac926fdb4859b9dcf2ee93e4ebfc
account_id = 8d7b044cb67a43e493203329eaf9323e

vendor_id = d7b0779d185b4a3982692f82fc7f93e7


5217 6139 0011 4669
1c498389bc7646628d461b4083c5dbf4
5b066ce023bf47d49e06918dd63863a1
48.20


############## test vendor 2 ##################

token acount = bf29c8e7ae0b41dbbba226d3fd656778
accound_id = 271003ce7a2a4872a565f47772e6ad27
vendor_id = 77af26d48ccb4f3887677c6f9b7935a5


// default credit - 4f39e70d78ca4d8d96ece9111e2a1690


################### comprador
curl --request POST \
  --url https://api.zoop.ws/v1/marketplaces/7596bf36e3924512bb09d184b6125d32/buyers \
  --data '{"first_name":"teste","last_name":"silva"}'

  {
    "id": "879aeffd598e410883b3842ae765bd11",
    "status": "active",
    "resource": "buyer",
    "account_balance": "0.00",
    "current_balance": "0.00",
    "first_name": "teste",
    "last_name": "silva",
    "taxpayer_id": null,
    "description": null,
    "email": null,
    "phone_number": null,
    "facebook": null,
    "twitter": null,
    "address": {
      "line1": null,
      "line2": null,
      "line3": null,
      "neighborhood": null,
      "city": null,
      "state": null,
      "postal_code": null,
      "country_code": null
    },
    "delinquent": false,
    "payment_methods": null,
    "default_debit": null,
    "default_credit": null,
    "default_receipt_delivery_method": null,
    "uri": "/v1/marketplaces/7596bf36e3924512bb09d184b6125d32/buyers/879aeffd598e410883b3842ae765bd11",
    "metadata": {},
    "created_at": "2018-07-21T16:01:21+00:00",
    "updated_at": "2018-07-21T16:01:21+00:00"
  }


################## cartão
curl --request POST \
  --url https://api.zoop.ws/v1/marketplaces/7596bf36e3924512bb09d184b6125d32/cards/tokens \
  --data '{
    "card_number":"5548572972220731",
    "expiration_year":"2019",
    "expiration_month":"07",
    "security_code":"414","holder_name":"teste silva"}'

{
  "id": "4d489c87b2c64dbc8d9582eacbdb1d80",
  "resource": "token",
  "used": false,
  "type": "card",
  "card": {
    "id": "1882c1ec1d3a4146b1bd5659b86721d0",
    "resource": "card",
    "description": null,
    "card_brand": "MasterCard",
    "first4_digits": "5548",
    "expiration_month": "7",
    "expiration_year": "2019",
    "holder_name": "teste silva",
    "is_active": false,
    "is_valid": true,
    "is_verified": false,
    "customer": null,
    "fingerprint": "527226b7c5dc147249811ae7e53e15827c6fd111ba677805a7d6de30ab26e656",
    "address": null,
    "verification_checklist": {
      "postal_code_check": "unchecked",
      "security_code_check": "unchecked",
      "address_line1_check": "unchecked"
    },
    "metadata": {},
    "uri": "/v1/marketplaces/7596bf36e3924512bb09d184b6125d32/cards/1882c1ec1d3a4146b1bd5659b86721d0",
    "created_at": "2018-07-21T15:58:13+00:00",
    "updated_at": "2018-07-21T15:58:13+00:00"
  },
  "uri": "/v1/marketplaces/7596bf36e3924512bb09d184b6125d32/tokens/4d489c87b2c64dbc8d9582eacbdb1d80",
  "created_at": "2018-07-21T15:58:13+00:00",
  "updated_at": "2018-07-21T15:58:13+00:00"
}


######## vinculação cartão cliente

curl --request POST \
  --url https://api.zoop.ws/v1/marketplaces/7596bf36e3924512bb09d184b6125d32/cards \
  --data '{"customer":"879aeffd598e410883b3842ae765bd11","token":"4d489c87b2c64dbc8d9582eacbdb1d80"}'

  {
    "id": "1882c1ec1d3a4146b1bd5659b86721d0",
    "resource": "card",
    "description": null,
    "card_brand": "MasterCard",
    "first4_digits": "5548",
    "expiration_month": "7",
    "expiration_year": "2019",
    "holder_name": "teste silva",
    "is_active": true,
    "is_valid": true,
    "is_verified": false,
    "customer": "879aeffd598e410883b3842ae765bd11",
    "fingerprint": "527226b7c5dc147249811ae7e53e15827c6fd111ba677805a7d6de30ab26e656",
    "address": null,
    "verification_checklist": {
      "postal_code_check": "unchecked",
      "security_code_check": "unchecked",
      "address_line1_check": "unchecked"
    },
    "metadata": {},
    "uri": "/v1/marketplaces/7596bf36e3924512bb09d184b6125d32/cards/1882c1ec1d3a4146b1bd5659b86721d0",
    "created_at": "2018-07-21T15:58:13+00:00",
    "updated_at": "2018-07-21T16:02:33+00:00"
  }

########## transação padrão
curl --request POST \
  --url https://api.zoop.ws/v1/marketplaces/7596bf36e3924512bb09d184b6125d32/transactions \
  --data '{
  "on_behalf_of":"5b066ce023bf47d49e06918dd63863a1",
  "amount":999,
  "currency":"BRL",
  "description":"Teste 9,99",
  "payment_type":"credit",
  "source":{
    "usage":"reusable",
    "type":"card",
    "capture":"true",
    "card":{
        "id":"1882c1ec1d3a4146b1bd5659b86721d0",
        "amount":999
        },
    "amount":999,
    "currency":"BRL"}}'


{
  "id": "2815cabdc0b4434d921a727a8ee2a4fd",
  "resource": "transaction",
  "status": "succeeded",
  "amount": "9.99",
  "original_amount": "9.99",
  "currency": "BRL",
  "description": "Teste 9,99",
  "payment_type": "credit",
  "transaction_number": "Z133937-000260004",
  "gateway_authorizer": "cielo",
  "app_transaction_uid": null,
  "refunds": null,
  "rewards": null,
  "discounts": null,
  "pre_authorization": null,
  "sales_receipt": "fdbcfa65c3774588a57dc1336b6f68cf",
  "on_behalf_of": "5b066ce023bf47d49e06918dd63863a1",
  "customer": "879aeffd598e410883b3842ae765bd11",
  "statement_descriptor": "2WINS",
  "payment_method": {
    "id": "1882c1ec1d3a4146b1bd5659b86721d0",
    "resource": "card",
    "description": null,
    "card_brand": "MasterCard",
    "first4_digits": "5548",
    "expiration_month": "7",
    "expiration_year": "2019",
    "holder_name": "teste silva",
    "is_active": true,
    "is_valid": true,
    "is_verified": false,
    "customer": "879aeffd598e410883b3842ae765bd11",
    "fingerprint": "527226b7c5dc147249811ae7e53e15827c6fd111ba677805a7d6de30ab26e656",
    "address": null,
    "verification_checklist": {
      "postal_code_check": "unchecked",
      "security_code_check": "unchecked",
      "address_line1_check": "unchecked"
    },
    "metadata": {},
    "uri": "/v1/marketplaces/7596bf36e3924512bb09d184b6125d32/cards/1882c1ec1d3a4146b1bd5659b86721d0",
    "created_at": "2018-07-21T15:58:13+00:00",
    "updated_at": "2018-07-21T16:02:33+00:00"
  },
  "source": {
    "id": "086d9176a1044f828c0a028caf61c3a7",
    "status": "pending",
    "usage": "reusable",
    "amount": "9.99",
    "currency": "BRL",
    "description": null,
    "statement_descriptor": null,
    "type": "card",
    "card": {
      "id": "1882c1ec1d3a4146b1bd5659b86721d0",
      "resource": "card",
      "description": null,
      "card_brand": "MasterCard",
      "first4_digits": "5548",
      "expiration_month": "7",
      "expiration_year": "2019",
      "holder_name": "teste silva",
      "is_active": true,
      "is_valid": true,
      "is_verified": false,
      "customer": "879aeffd598e410883b3842ae765bd11",
      "fingerprint": "527226b7c5dc147249811ae7e53e15827c6fd111ba677805a7d6de30ab26e656",
      "address": null,
      "verification_checklist": {
        "postal_code_check": "unchecked",
        "security_code_check": "unchecked",
        "address_line1_check": "unchecked"
      },
      "metadata": {},
      "uri": "/v1/marketplaces/7596bf36e3924512bb09d184b6125d32/cards/1882c1ec1d3a4146b1bd5659b86721d0",
      "created_at": "2018-07-21T15:58:13+00:00",
      "updated_at": "2018-07-21T16:02:33+00:00",
      "amount": "9.99"
    }
  },
  "point_of_sale": {
    "entry_mode": "manually_keyed",
    "identification_number": null
  },
  "installment_plan": null,
  "refunded": false,
  "voided": false,
  "captured": true,
  "fees": "0.40",
  "fee_details": [
    {
      "amount": "0.40",
      "prepaid": false,
      "currency": "BRL",
      "type": "zoop_fee_brazil",
      "is_gateway_fee": false,
      "description": "Zoop card-present transaction fee"
    }
  ],
  "location_latitude": null,
  "location_longitude": null,
  "uri": "/v1/marketplaces/7596bf36e3924512bb09d184b6125d32/transactions/2815cabdc0b4434d921a727a8ee2a4fd",
  "metadata": {},
  "expected_on": "2018-08-22T00:00:00+00:00",
  "created_at": "2018-07-23T17:33:12+00:00",
  "updated_at": "2018-07-23T17:33:14+00:00",
  "payment_authorization": {
    "authorizer_id": "000260004",
    "authorization_code": "133937",
    "authorization_nsu": "20180510122911535"
  },
  "history": [
    {
      "id": "1a2a4c54e6d746f882bb493dc5d88911",
      "transaction": "2815cabdc0b4434d921a727a8ee2a4fd",
      "amount": "9.99",
      "operation_type": "created",
      "status": "succeeded",
      "response_code": null,
      "response_message": null,
      "authorization_code": null,
      "authorizer_id": null,
      "authorization_nsu": null,
      "created_at": "2018-07-23 17:33:12"
    },
    {
      "id": "cd1cd62495c94671b0e9028598dc6d03",
      "transaction": "2815cabdc0b4434d921a727a8ee2a4fd",
      "amount": "9.99",
      "operation_type": "authorization",
      "status": "succeeded",
      "response_code": "00",
      "response_message": null,
      "authorization_code": "133937",
      "authorizer_id": "000260004",
      "authorization_nsu": "20180510122911535",
      "created_at": "2018-07-23 17:33:14"
    }
  ]
}

######### transação boleto
curl --request POST \
  --url https://api.zoop.ws/v1/marketplaces/7596bf36e3924512bb09d184b6125d32/transactions \
  --data '{
    "amount":1000,
    "currency":"BRL",
    "description":"teste",
    "payment_type":"boleto",
    "capture":"true",
    "source":{
        "usage":"single_use",
        "type":"customer",
        "customer":{
            "id":"879aeffd598e410883b3842ae765bd11"
        }
    },
    "on_behalf_of":"5b066ce023bf47d49e06918dd63863a1"
}'

 {
   "id": "52d8b31095544e98bc2507005b0e1d36",
   "resource": "transaction",
   "status": "pending",
   "amount": "10.00",
   "original_amount": "10.00",
   "currency": "BRL",
   "description": "teste",
   "payment_type": "boleto",
   "transaction_number": null,
   "gateway_authorizer": null,
   "app_transaction_uid": null,
   "refunds": null,
   "rewards": null,
   "discounts": null,
   "pre_authorization": null,
   "sales_receipt": null,
   "on_behalf_of": "5b066ce023bf47d49e06918dd63863a1",
   "customer": null,
   "statement_descriptor": "2wins",
   "payment_method": {
     "id": "06d15109cabc45ca8b8da2a2b016bf16",
     "resource": "boleto",
     "description": "teste",
     "reference_number": "2404",
     "document_number": "2404",
     "expiration_date": "2018-07-26T00:00:00+00:00",
     "recipient": "ZOOP :: 2wins",
     "bank_code": "109",
     "customer": null,
     "address": null,
     "sequence": "6592",
     "url": "https://boleto-producao.s3.amazonaws.com/20180723-20180726-2404.html",
     "accepted": false,
     "printed": false,
     "downloaded": false,
     "fingerprint": null,
     "paid_at": null,
     "uri": "/v1/marketplaces/7596bf36e3924512bb09d184b6125d32/boletos/06d15109cabc45ca8b8da2a2b016bf16",
     "barcode": "34191.09008 00240.448936 31339.210002 5 75970000001000",
     "metadata": {},
     "created_at": "2018-07-23T17:17:10+00:00",
     "updated_at": "2018-07-23T17:17:10+00:00"
   },
   "source": null,
   "point_of_sale": {
     "entry_mode": "barcode",
     "identification_number": null
   },
   "installment_plan": null,
   "refunded": false,
   "voided": false,
   "captured": true,
   "fees": "0.00",
   "fee_details": null,
   "location_latitude": null,
   "location_longitude": null,
   "uri": "/v1/marketplaces/7596bf36e3924512bb09d184b6125d32/transactions/52d8b31095544e98bc2507005b0e1d36",
   "metadata": {},
   "expected_on": "2018-07-23T14:17:10+00:00",
   "created_at": "2018-07-23T17:17:10+00:00",
   "updated_at": "2018-07-23T17:17:10+00:00",
   "reference_id": "2404",
   "payment_authorization": null,
   "history": [
     {
       "id": "9d24547909904f12a14f2d4505f2ad48",
       "transaction": "52d8b31095544e98bc2507005b0e1d36",
       "amount": "10.00",
       "operation_type": "created",
       "status": "succeeded",
       "response_code": null,
       "response_message": null,
       "authorization_code": null,
       "authorizer_id": null,
       "authorization_nsu": null,
       "created_at": "2018-07-23 17:17:10"
     }
   ]
 }

